!function(f){f.fn.siteoriginCorpIsVisible=function(){var o=this[0].getBoundingClientRect();return 0<=o.bottom&&0<=o.right&&o.top<=(window.innerHeight||document.documentElement.clientHeight)&&o.left<=(window.innerWidth||document.documentElement.clientWidth)};f(document).on("mousemove",function(o){({x:o.pageX,y:o.pageY})}),void 0!==f.fn.fitVids&&f(".entry-content, .entry-content .panel, .entry-video, .woocommerce #main").fitVids({ignore:".tableauViz"}),f(document).ready(function(){f(".flexslider").each(function(){f(this).flexslider({animation:"slide",customDirectionNav:f(this).find(".flex-direction-nav a"),start:function(){f(".flexslider .slides img").show()}}),f(window).one("panelsStretchRows",function(){f("body:not(.siteorigin-panels-css-container) .siteorigin-panels-stretch .flexslider").flexslider().resize()})})}),f("body.no-js").removeClass("no-js"),f("body").hasClass("css3-animations")&&(f(".menu-item").children("a").on("focusin",function(){f(this).parents("ul, li").addClass("focus")}),f(".menu-item").children("a").on("click",function(){f(this).parents("ul, li").removeClass("focus")}),f(".menu-item").children("a").on("focusout",function(){f(this).parents("ul, li").removeClass("focus")})),f(document).ready(function(o){window.location.hash||(o('#site-navigation a[href="'+window.location.href+'"]').parent("li").addClass("current-menu-item"),o(window).on("click",function(){o("#site-navigation ul li").hasClass("current")?(o("#site-navigation li").removeClass("current-menu-item"),o("#site-navigation li.current-menu-ancestor").removeClass("current-menu-ancestor current-menu-parent")):0==o(document).scrollTop()&&(o('#site-navigation a[href="'+window.location.href+'"]').parent("li").addClass("current-menu-item"),o('#site-navigation a[href="'+window.location.href+'"]').parents("li.menu-item-has-children").addClass("current-menu-ancestor current-menu-parent"))}))});function r(){var o,t=f("#wpadminbar").outerHeight(),e=f("body").hasClass("admin-bar"),i=f("header").hasClass("sticky"),n=f(".site-header");if(o=i&&e&&600<f(window).width()?t+f("header").outerHeight()-1:i?f("header").outerHeight()-1:0,n.data("scale-logo")&&!n.hasClass("stuck")){var s=parseInt(n.css("padding-bottom"));o+=s-s*siteoriginCorp.logoScale*2}return o}f.fn.siteoriginCorpSmoothScroll=function(){f("body").hasClass("disable-smooth-scroll")||f(this).on("click",function(o){var t=this.hash.substring(1);if(0<f(".panel-grid [id*="+t+"]").length?(f("#site-navigation .current").removeClass("current"),f(this).parent("li").addClass("current")):f("#site-navigation .current").removeClass("current"),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=f(this.hash);if((e=e.length?e:f("[name="+this.hash.slice(1)+"]")).length)return f("html, body").stop().animate({scrollTop:e.offset().top-r()},{duration:1200,start:function(){f("html, body").on("wheel touchmove",function(){f("html, body").stop().off("wheel touchmove")})},complete:function(){f("html, body").finish().off("wheel touchmove")}}),!1}})},f(window).on("load",function(){if(f('#site-navigation a[href*="#"]:not([href="#"]), .comments-link a[href*="#"]:not([href="#"]), .woocommerce-review-link[href*="#"]:not([href="#"]), .corp-scroll[href*="#"]:not([href="#"])').siteoriginCorpSmoothScroll(),location.pathname.replace(/^\//,"")==window.location.pathname.replace(/^\//,"")&&location.hostname==window.location.hostname){var o=f(window.location.hash);o.length&&setTimeout(function(){f("html, body").animate({scrollTop:o.offset().top-r()},0,function(){f("#masthead").hasClass("sticky-menu")&&smSetup()})},100)}}),f(window).on("scroll",function(){var s=f(window).scrollTop(),a="no";f(".panel-row-style").each(function(){var o="#"+f(this).attr("id"),t=f(this).offset().top-1,e=f(this).outerHeight(),i=t-r(),n=t+e-r();if(i<=s&&s<=n)return a="yes",f("#site-navigation .current").removeClass("current"),f('#site-navigation a[href$="'+o+'"]').parent("li").addClass("current"),!1;"no"===a&&f("#site-navigation .current").removeClass("current")})});var i=!1;f("#mobile-menu-button").on("click",function(o){o.preventDefault();var t=f(this);if(t.toggleClass("to-close"),!1===i){(i=f("<div></div>").append(f(".main-navigation ul").first().clone()).attr("id","mobile-navigation").appendTo("#masthead").hide()).find("#primary-menu").show().css("opacity",1),i.find(".menu-item-has-children > a").addClass("has-dropdown"),i.find(".page_item_has_children > a").addClass("has-dropdown"),i.find(".has-dropdown").after('<button class="dropdown-toggle" aria-expanded="false"><i class="icon-angle-down" aria-hidden="true"></i></button>'),i.find(".dropdown-toggle").on("click",function(o){o.preventDefault(),f(this).toggleClass("toggle-open").next(".children, .sub-menu").slideToggle("fast")}),i.find(".has-dropdown").on("click",function(o){void 0!==f(this).attr("href")&&"#"!=f(this).attr("href")||(o.preventDefault(),f(this).siblings(".dropdown-toggle").trigger("click"))});function e(){if(f("#masthead").hasClass("sticky")){var o="fixed"===f("#wpadminbar").css("position")?f("#wpadminbar").outerHeight():0,t=f("#masthead").innerHeight(),e=f(window).height()-t-o;f("#mobile-navigation").css("max-height",e)}}e(),f(window).on("resize",e),f("#mobile-navigation").on("scroll",e)}i.slideToggle("fast"),f("#mobile-navigation a").on("click",function(o){(!f(this).hasClass("has-dropdown")||void 0!==f(this).attr("href")&&"#"!==f(this).attr("href"))&&i.is(" :visible")&&i.slideUp("fast"),t.removeClass("to-close")}),f('#mobile-navigation a[href*="#"]:not([href="#"])').siteoriginCorpSmoothScroll()}),f("#search-button").on("click",function(o){o.preventDefault();var t=f(this);t.toggleClass("close-search"),f("input[type='search']").each(function(){f(this).attr("size",f(this).attr("placeholder").length)});function e(){var o=f(window).width(),t=f(window).height();f("#fullscreen-search").css({height:t+"px",width:o+"px"})}e(),f(window).on("resize",e),t.hasClass("close-search")?(f("body").css("margin-right",window.innerWidth-f("body").width()+"px"),f("body").css("overflow","hidden")):(f("body").css("overflow",""),f("body").css("margin-right","")),f("#fullscreen-search").slideToggle("fast"),f("#fullscreen-search input").trigger("focus")}),f("#fullscreen-search-form").on("submit",function(){f(this).find("button svg").hide(),f(this).find("button svg:last-child").show()}),f("#fullscreen-search #search-close-button").on("click",function(o){o.preventDefault(),f("#search-button.close-search").trigger("click")}),f(document).on("keyup",function(o){27===o.keyCode&&f("#search-button.close-search").trigger("click")});function o(){var o=window.pageYOffset||document.documentElement.scrollTop;(f("#masthead").length?f("#masthead").outerHeight():f(window).outerHeight()/2)<o?f("#scroll-to-top").hasClass("show")||f("#scroll-to-top").css("pointer-events","auto").addClass("show"):f("#scroll-to-top").hasClass("show")&&f("#scroll-to-top").css("pointer-events","none").removeClass("show")}o(),f(window).on("scroll",o),f("#scroll-to-top").on("click",function(){f("html, body").stop().animate({scrollTop:0})}),("ontouchstart"in document.documentElement||window.navigator.msMaxTouchPoints||window.navigator.MaxTouchPoints)&&(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&(f("body").css("cursor","pointer"),f("body").addClass("ios")),f(".main-navigation #primary-menu").find(".menu-item-has-children > a").each(function(){f(this).on("click touchend",function(o){var t=f(this);o.stopPropagation(),"click"!=o.type&&(t.parent().hasClass("hover")||(f(".menu-item.hover").removeClass("hover"),t.parents(".menu-item").addClass("hover"),o.preventDefault()),f(document).one("click",function(){t.parent().removeClass("hover")}))})})),f("#portfolio-loop").length&&($infinite_scroll=0,f(document.body).on("post-load",function(){var o=f("#portfolio-loop");$infinite_scroll+=1;o=f("#projects-container");var t=f("#infinite-view-"+$infinite_scroll).find(".jetpack-portfolio.post");t.hide(),o.append(t).isotope("appended",t)})),f(window).on("load",function(){siteoriginCorp.logoScale=parseFloat(siteoriginCorp.logoScale),f(".blog-layout-masonry").length&&f(".blog-layout-masonry").masonry({itemSelector:".hentry",columnWidth:".hentry"});var t=f("#projects-container");f(".portfolio-filter-terms").length&&t.isotope({itemSelector:".post",filter:"*",layoutMode:"fitRows",resizable:!0}),f(".portfolio-filter-terms button").on("click",function(){var o=f(this).attr("data-filter");return t.isotope({filter:o}),f(".portfolio-filter-terms button").removeClass("active"),f(this).addClass("active"),!1});var i=f("#masthead"),n={top:parseInt(i.css("padding-top")),bottom:parseInt(i.css("padding-bottom"))};if(i.data("scale-logo")){var s=i.find(".site-branding img"),o=s.width(),e=s.height(),a=o*siteoriginCorp.logoScale,r=e*siteoriginCorp.logoScale;f(".site-branding img").wrap('<span class="custom-logo-wrapper"></span>');function l(){var o=i.find(".site-branding > *"),t=window.pageYOffset||document.documentElement.scrollTop;if(t>siteoriginCorp.stickyOffset?i.css({"padding-top":n.top*siteoriginCorp.logoScale,"padding-bottom":n.bottom*siteoriginCorp.logoScale}):t<siteoriginCorp.stickyOffset&&i.css({"padding-top":n.top,"padding-bottom":n.bottom}),s.length)if(0<t){var e=siteoriginCorp.logoScale+Math.max(0,48-t)/48*(1-siteoriginCorp.logoScale);s.height()==r&&s.width()==a&&e==siteoriginCorp.logoScale||f(".site-branding img").css({width:100*e+"%"})}else f(".site-branding img").css({width:""});else 0<t?o.css("transform","scale("+siteoriginCorp.logoScale+")"):o.css("transform","scale(1)")}l(),f(window).on("scroll resize",l)}if(f("#masthead").hasClass("sticky")){i=f("#masthead");function c(){f(window).scrollTop()>siteoriginCorp.stickyOffset?f(i).addClass("stuck"):f(i).removeClass("stuck")}var d=f('<div class="masthead-sentinel"></div>').insertAfter(i),h=f("#topbar"),u=f('#topbar .woocommerce-store-notice[style*="display: none"]');c(),f(window).on("scroll",c);function p(){f("body").hasClass("mobile-header-ns")&&f(window).width()<siteoriginCorp.collapse||(!1!==d&&d.css("height",i.outerHeight()),f("body").hasClass("no-topbar")||h.siteoriginCorpIsVisible()||f("body").addClass("topbar-out"),h.length&&f("body").hasClass("topbar-out")&&h.siteoriginCorpIsVisible()&&f("body").removeClass("topbar-out"),f("body").hasClass("no-topbar")&&!f(window).scrollTop()&&f("body").addClass("topbar-out"),f("body").hasClass("no-topbar")||!f("body").hasClass("no-topbar")&&f("body").hasClass("topbar-out")||u.length?(window.pageYOffset||document.documentElement.scrollTop)>siteoriginCorp.stickyOffset?i.css("position","fixed"):i.css("position","absolute"):f("body").hasClass("no-topbar")||f("body").hasClass("topbar-out")||i.css("position","absolute"))}p(),f(window).on("resize scroll",p)}})}(jQuery);